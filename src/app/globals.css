@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== Color Tokens: Light (Apple-ish) & Dark (Discord-ish) ==== */
:root {
  /* Light */
  --primary-light: #007aff;
  --secondary-light: #5ac8fa;
  --background-light: #ffffff;
  --surface-light: #f2f2f7;
  --text-light: #1d1d1f;
  --text-secondary-light: #8e8e93;
  --success-light: #30d158;
  --danger-light: #ff3b30;
  --border-light: #d1d1d6;

  /* Dark */
  --primary-dark: #5865f2;
  --secondary-dark: #7289da;
  --background-dark: #2c2f33;
  --surface-dark: #36393f;
  --text-dark: #ffffff;
  --text-secondary-dark: #b9bbbe;
  --success-dark: #43b581;
  --danger-dark: #f04747;
  --border-dark: #4f545c;

  /* Layout */
  --container-max: 1440px; /* önce 1200'dü */
}

/* Base */
html, body { height: 100%; }
* { box-sizing: border-box; }

body {
  margin: 0;
  padding: 0;
  transition: background-color .3s ease, color .3s ease;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

body.light { background: var(--background-light); color: var(--text-light); }
body.dark  { background: var(--background-dark);  color: var(--text-dark); }

/* Page container */
.container{
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 24px;
}

/* İleride tam genişlik istersen bu sınıfı verirsin */
.container--fluid { max-width: 100%; }

/* TOP HEADER BLOCK (no text) */
.header-block {
  height: 280px;
  border-radius: 24px;
  box-shadow: 0 16px 40px rgba(0,0,0,.12);
  border: 1px solid var(--border-light);
  background:
    radial-gradient(1200px 300px at 20% -40%, rgba(255,255,255,.35), transparent 60%),
    radial-gradient(900px 300px at 120% 0%, rgba(255,255,255,.18), transparent 60%),
    linear-gradient(135deg, var(--primary-light), var(--secondary-light));
}
.dark .header-block {
  border-color: var(--border-dark);
  box-shadow: 0 16px 40px rgba(0,0,0,.35);
  background:
    radial-gradient(1200px 300px at 20% -40%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(900px 300px at 120% 0%, rgba(255,255,255,.04), transparent 60%),
    linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
}

/* İnce grid kılavuzu (yazısız görsel rehber) */
.guide { position: relative; isolation: isolate; }
.guide::before {
  content: "";
  position: absolute; inset: 0; z-index: -1;
  background-image:
    linear-gradient(rgba(0,0,0,.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,.05) 1px, transparent 1px);
  background-size: 24px 24px;
  opacity: .08;
  pointer-events: none;
}
.dark .guide::before { opacity: .12; }

/* ==== Step 2: Yazısız navigasyon şeridi ==== */
.nav-strip {
  margin-top: 16px;
  height: 64px;
  border-radius: 16px;
  padding: 8px 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  border: 1px solid var(--border-light);
  background: linear-gradient(180deg, var(--surface-light), #ffffff);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.dark .nav-strip {
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}

.nav-pill {
  width: 88px;
  height: 40px;
  border-radius: 9999px;
  border: 1px solid var(--border-light);
  background: rgba(255,255,255,.7);
  backdrop-filter: blur(4px);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.25);
  transition: transform .2s ease, background-color .2s ease;
}
.nav-pill:hover { transform: translateY(-1px); }
.dark .nav-pill {
  border-color: var(--border-dark);
  background: rgba(255,255,255,.04);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}

/* ========= THEME TOGGLE ========= */
.theme-toggle { display:flex; gap:8px; }
.tt-btn {
  width:36px; height:36px; border-radius:10px; border:1px solid var(--border-light);
  background: rgba(255,255,255,.7); backdrop-filter: blur(6px); cursor:pointer;
}
.dark .tt-btn { border-color: var(--border-dark); background: rgba(255,255,255,.08); }

/* ========= TOP BAR ========= */
.topbar {
  background: var(--background-light);
  border-bottom: 1px solid var(--border-light);
}
.dark .topbar { background: var(--background-dark); border-color: var(--border-dark); }

/* Topbar layout */
.topbar-inner{
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 8px 16px;
  display: flex; align-items: center; gap: 10px;
}

/* Tek satır, sola hizalı, taşmadan sığması için sıkı ayarlar */
.mainnav{
  flex: 1 1 auto; min-width: 0;
  display: inline-flex; align-items: center; justify-content: flex-start;
  gap: 6px; white-space: nowrap; overflow: hidden; /* kaydırma yok, sığdırıyoruz */
}
.nav-link{
  padding: 5px 8px; border-radius: 10px; text-decoration: none;
  border: 1px solid transparent; font-size: 13px; line-height: 1;
  color: var(--text-light); background: linear-gradient(180deg, var(--surface-light), #fff);
}
.nav-link:hover { border-color: var(--border-light); }
.dark .nav-link {
  color: var(--text-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
}
.dark .nav-link:hover { border-color: var(--border-dark); }

.logo { display:flex; align-items:center; gap:10px; text-decoration:none; color: inherit; }
.logo-text { display:flex; flex-direction:column; line-height:1.05; }
/* Logo metnini de ufalt */
.logo-text strong{ font-size: 17px; }
.logo-text span{ font-size: 10px; opacity:.65; }

/* Sağ kontrol grubu tek satır */
.topbar-right{ display: flex; align-items: center; gap: 8px; flex: 0 0 auto; }
.search{ 
  height: 32px; min-width: 160px; width: 200px; border-radius: 8px;
  border:1px solid var(--border-light); background: rgba(255,255,255,.7); padding: 0 10px;
}
.dark .search { border-color: var(--border-dark); background: rgba(255,255,255,.08); color: var(--text-dark); }

.btn{ height: 32px; padding: 0 10px; border-radius: 8px; font-size: 13px; border:1px solid transparent; cursor:pointer; }
.btn.ghost { background: transparent; border-color: var(--border-light); }
.dark .btn.ghost { border-color: var(--border-dark); color: var(--text-dark); }
.btn.solid { background: linear-gradient(180deg, var(--primary-light), var(--secondary-light)); color: white; }
.dark .btn.solid { background: linear-gradient(180deg, var(--primary-dark), var(--secondary-dark)); }

.auth{ display: flex; gap: 6px; }      /* <-- Log in & Sign up yan yana */
.lang{ 
  height: 32px; border-radius: 8px; border:1px solid var(--border-light); 
  background: rgba(255,255,255,.7); padding:0 8px;
}
.dark .lang { border-color: var(--border-dark); background: rgba(255,255,255,.08); color: var(--text-dark); }

/* Daha dar ekranlarda biraz daha sıkıştır */
@media (max-width: 1280px){
  .nav-link{ font-size: 12.5px; padding: 4px 7px; }
  .search{ width: 160px; min-width: 140px; }
  .btn{ padding: 0 8px; }
}

/* -------- Ticker (single row, smooth) -------- */
.ticker{
  position:relative; overflow:hidden; border:1px solid var(--border-light);
  border-radius:12px; margin-top:10px; height:48px;
  background: linear-gradient(180deg, var(--surface-light), #fff);
  -webkit-mask-image: linear-gradient(90deg, transparent 0, #000 8px, #000 calc(100% - 8px), transparent 100%);
          mask-image: linear-gradient(90deg, transparent 0, #000 8px, #000 calc(100% - 8px), transparent 100%);
}
.dark .ticker {
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
}
.ticker.crypto {
  background: linear-gradient(180deg, rgba(0,122,255,.08), transparent),
              linear-gradient(180deg, var(--surface-light), #fff);
}
.dark .ticker.crypto {
  background: linear-gradient(180deg, rgba(88,101,242,.18), transparent),
              linear-gradient(180deg, var(--surface-dark), #2b2e33);
}

.ticker-track{
  display:inline-flex; align-items:center; gap:12px;
  padding:8px 24px; /* sola biraz daha iç boşluk → ilk öğe kırpılmıyor */
  white-space:nowrap;
  animation: ticker-marquee var(--duration, 30s) linear infinite;
  will-change: transform; transform: translate3d(0,0,0);
}
@keyframes ticker-marquee{
  from{ transform: translate3d(0,0,0); }
  to  { transform: translate3d(calc(-1 * var(--shift, 50%)),0,0); }
}

.ticker-item{ display:inline-flex; align-items:baseline; gap:8px; padding:6px 10px; border-radius:10px; border:1px solid var(--border-light); background:rgba(255,255,255,.6); }
.dark .ticker-item { background: rgba(255,255,255,.06); border-color: var(--border-dark); }

.ti-label{ font-weight:600; }
.ti-value{ font-variant-numeric: tabular-nums; } /* sayıların sallanmaması için */
.ti-change { font-variant-numeric: tabular-nums; }
.ti-change.up   { color: var(--success-light); }
.ti-change.down { color: var(--danger-light); }
.dark .ti-change.up   { color: var(--success-dark); }
.dark .ti-change.down { color: var(--danger-dark); }

/* Accessibility: motion azaltma */
@media (prefers-reduced-motion: reduce) {
  .ticker-track { animation: none; }
}

/* ======= WIDGET BAR (single row, responsive) ======= */
/* Wrap: position for hint */
.widget-bar-wrap { position: relative; }

/* Compact widgets */
.widget-bar{ display:flex; gap:8px; padding:10px 0; overflow: hidden; }
.widget{ 
  flex: 1 1 0; min-width: 0; padding: 8px; border-radius: 12px;
  border:1px solid var(--border-light);
  background: linear-gradient(180deg, var(--surface-light), #fff);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.widget--tight .stat-val{ font-size: 18px; }     /* 20 → 18 */
.widget--tight .w-title{ font-size: 13px; }
.widget--tight .w-sub{ font-size: 11px; }
.dark .widget{
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}
.widget-h{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.w-title{ font-weight:600; opacity:.95; }
.w-sub{ font-size:12px; opacity:.7; margin-top:4px; }

/* Stat */
.stat{ display:flex; align-items:baseline; gap:10px; }
.stat-val{ font-size:22px; font-weight:700; }
.stat-change{ font-variant-numeric: tabular-nums; font-size:14px; }
.stat-change.up{ color: var(--success-light); }
.stat-change.down{ color: var(--danger-light); }
.dark .stat-change.up{ color: var(--success-dark); }
.dark .stat-change.down{ color: var(--danger-dark); }

/* Gauge */
.gauge{ display:flex; flex-direction:column; gap:6px; }
.gauge-track{
  position:relative; height: 8px; border-radius:999px; overflow:hidden;
  background: rgba(0,0,0,.08);
  border: 1px solid var(--border-light);
}
.dark .gauge-track{ background: rgba(255,255,255,.06); border-color: var(--border-dark); }
.gauge-fill{
  position:absolute; inset:0 auto 0 0;
  background: linear-gradient(90deg, var(--danger-light), var(--primary-light), var(--success-light));
  transform: translateZ(0);
}
.dark .gauge-fill{
  background: linear-gradient(90deg, var(--danger-dark), var(--primary-dark), var(--success-dark));
}
.gauge-val{ font-weight:700; }

/* Desktop tek satıra sığdırma */
@media (min-width: 1100px){
  .widget-bar{ overflow-x: visible; }
}

.spacer { height: 40vh; }

@media (max-width: 900px) {
  .mainnav { display:none; } /* mobilde nav'ı sade tutalım; ileride hamburger ekleriz */
}
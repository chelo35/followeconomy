@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==== Color Tokens: Light (Apple-ish) & Dark (Discord-ish) ==== */
:root {
  /* Light */
  --primary-light: #007aff;
  --secondary-light: #5ac8fa;
  --background-light: #ffffff;
  --surface-light: #f2f2f7;
  --text-light: #1d1d1f;
  --text-secondary-light: #8e8e93;
  --success-light: #30d158;
  --danger-light: #ff3b30;
  --border-light: #d1d1d6;

  /* Dark */
  --primary-dark: #5865f2;
  --secondary-dark: #7289da;
  --background-dark: #2c2f33;
  --surface-dark: #36393f;
  --text-dark: #ffffff;
  --text-secondary-dark: #b9bbbe;
  --success-dark: #43b581;
  --danger-dark: #f04747;
  --border-dark: #4f545c;

  /* Layout */
  --container-max: 1440px; /* önce 1200'dü */
  
  /* Breakpoints & Dimensions */
  --bp-desktop: 1024px;
  --bp-tablet: 768px;

  --z-header: 60;
  --header-h-desktop: 64px;
  --header-h-mobile: 56px;
}

/* Base */
html, body { height: 100%; }
* { box-sizing: border-box; }

body {
  margin: 0;
  padding: 0;
  transition: background-color .3s ease, color .3s ease;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

body.light { background: var(--background-light); color: var(--text-light); }
body.dark  { background: var(--background-dark);  color: var(--text-dark); }

/* Page container */
.container{
  max-width: var(--container-max);
  margin: 0 auto;
  padding: 24px;
}

/* full-bleed container: desktop geniş */
.container--fluid{
  width: 100%;
  max-width: none;               /* daraltmayı iptal */
  margin: 0 auto;
  padding-inline: clamp(12px, 2vw, 24px);
}

/* Görünürlük yardımcıları */
.desktop-only { display: block; }
.mobile-only { display: none; }
@media (max-width: 768px){
  .desktop-only { display: none !important; }
  .mobile-only { display: block !important; }
}

/* TOP HEADER BLOCK (no text) */
.header-block {
  height: 280px;
  border-radius: 24px;
  box-shadow: 0 16px 40px rgba(0,0,0,.12);
  border: 1px solid var(--border-light);
  background:
    radial-gradient(1200px 300px at 20% -40%, rgba(255,255,255,.35), transparent 60%),
    radial-gradient(900px 300px at 120% 0%, rgba(255,255,255,.18), transparent 60%),
    linear-gradient(135deg, var(--primary-light), var(--secondary-light));
}
.dark .header-block {
  border-color: var(--border-dark);
  box-shadow: 0 16px 40px rgba(0,0,0,.35);
  background:
    radial-gradient(1200px 300px at 20% -40%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(900px 300px at 120% 0%, rgba(255,255,255,.04), transparent 60%),
    linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
}

/* İnce grid kılavuzu (yazısız görsel rehber) */
.guide { position: relative; isolation: isolate; }
.guide::before {
  content: "";
  position: absolute; inset: 0; z-index: -1;
  background-image:
    linear-gradient(rgba(0,0,0,.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,.05) 1px, transparent 1px);
  background-size: 24px 24px;
  opacity: .08;
  pointer-events: none;
}
.dark .guide::before { opacity: .12; }

/* ==== Step 2: Yazısız navigasyon şeridi ==== */
.nav-strip {
  margin-top: 16px;
  height: 64px;
  border-radius: 16px;
  padding: 8px 12px;
  display: flex;
  align-items: center;
  gap: 10px;
  border: 1px solid var(--border-light);
  background: linear-gradient(180deg, var(--surface-light), #ffffff);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.dark .nav-strip {
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}

.nav-pill {
  width: 88px;
  height: 40px;
  border-radius: 9999px;
  border: 1px solid var(--border-light);
  background: rgba(255,255,255,.7);
  backdrop-filter: blur(4px);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.25);
  transition: transform .2s ease, background-color .2s ease;
}
.nav-pill:hover { transform: translateY(-1px); }
.dark .nav-pill {
  border-color: var(--border-dark);
  background: rgba(255,255,255,.04);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}

/* ========= THEME TOGGLE ========= */
.theme-toggle { display:flex; gap:8px; }
.tt-btn {
  width:36px; height:36px; border-radius:10px; border:1px solid var(--border-light);
  background: rgba(255,255,255,.7); backdrop-filter: blur(6px); cursor:pointer;
}
.dark .tt-btn { border-color: var(--border-dark); background: rgba(255,255,255,.08); }

/* ========= TOP BAR ========= */
.topbar {
  background: var(--background-light);
  border-bottom: 1px solid var(--border-light);
  position: sticky;
  top: 0;
  z-index: var(--z-header);
  backdrop-filter: saturate(1.2) blur(8px);
}
.dark .topbar { background: var(--background-dark); border-color: var(--border-dark); }

/* 1) Üst barı tam sola yapıştır (istersen sonra tekrar ortalarız) */
:root { --topbar-max: 100%; }            /* 100% = ekranın tamamı; 
                                            merkezli istersen var(--container-max) yaparsın */

/* Grid: [logo] [NAV 1fr] [right] */
.topbar-inner.grid{
  max-width: var(--topbar-max);
  margin: 0;                             /* sola hizala */
  padding: 8px 16px;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  column-gap: 10px;
}

.logo { display:flex; align-items:center; gap:10px; text-decoration:none; color: inherit; }
.logo-text { display:flex; flex-direction:column; line-height:1.05; }
/* Logo metnini biraz sıkı tutalım */
.logo-text strong{ font-size:17px; }
.logo-text span{ font-size:10px; opacity:.65; }

/* NAV — tek satır, SOLA hizalı, taşma yok */
.mainnav{
  min-width: 0;                          /* 1fr kolonun daralabilmesi için şart */
  display: flex; align-items: center; justify-content: flex-start;
  flex-wrap: nowrap; white-space: nowrap; overflow: hidden;
  gap: 6px;
}
.nav-link{
  padding: 4px 8px;
  border-radius: 10px;
  border: 1px solid transparent;
  font-size: 13px; line-height: 1;
  text-decoration: none;
  color: var(--text-light); background: linear-gradient(180deg, var(--surface-light), #fff);
}
.nav-link:hover { border-color: var(--border-light); }
.dark .nav-link {
  color: var(--text-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
}
.dark .nav-link:hover { border-color: var(--border-dark); }

/* Masaüstü davranışını bozma */
.nav-rail{ display:flex; gap:10px; align-items:center; }

/* Mobilde yatay kaydırma + snap */
@media (max-width: 768px){
  .nav-rail{
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;
    padding-bottom: 4px;
    mask-image: linear-gradient(90deg, transparent 0, #0006 14px, #0006 calc(100% - 14px), transparent);
  }
  .nav-rail::-webkit-scrollbar{ display:none; }
  .nav-rail > *{ flex: 0 0 auto; scroll-snap-align: start; }

  /* Pro rozeti mobilde ufalsın, desktop aynı kalsın */
  .fe-pro-badge{
    font-size: clamp(12px, 2.6vw, 13px);
    padding: 6px 10px;
    border-radius: 999px;
  }

  /* Arama inputu daha kompakt */
  .site-search{ width: min(62vw, 380px); height: 36px; }
}

/* Sağ kontrol grubu — YAN YANA ve kompakt */
.topbar-right{ display:flex; align-items:center; gap:8px; }

/* --- Pro area --- */
.pro-slot{ display:flex; align-items:center; gap:8px; margin-right:6px; flex-shrink: 0; }
.pro-link{
  padding:5px 9px; border-radius:10px; text-decoration:none;
  border:1px solid var(--border-light);
  background: linear-gradient(180deg, var(--surface-light), #fff);
  color: var(--text-light);
  font-size: 12.5px;
  line-height: 1;
}
.pro-link:hover { border-color: var(--border-light); }
.dark .pro-link{
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  color: var(--text-dark);
}
.dark .pro-link:hover { border-color: var(--border-dark); }

/* Gold CTA button */
.pro-cta{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 12px; border-radius:9999px; text-decoration:none;
  border:1px solid rgba(145,116,15,.55);
  color:#2b1b00;
  background: linear-gradient(180deg,#ffefb0,#f6cf57 45%,#d5a51c 70%,#b88700);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.6),
    0 6px 14px rgba(184,135,0,.25);
  transition: transform .12s ease, box-shadow .12s ease;
  font-size: 12.5px;
  line-height: 1;
}
.pro-cta svg{
  color: #2b1b00;
}
.pro-cta span{ font-size: 12px; font-weight: 600; }
.pro-cta strong{
  font-size: 13px; letter-spacing: .2px; font-weight: 800;
}
.dark .pro-cta{ color:#1b1200; }

.pro-cta:hover{
  transform: translateY(-1px);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.7),
    0 10px 20px rgba(184,135,0,.35);
}
.pro-cta:active{ transform: translateY(0); }
.search{ 
  height:32px; width:170px; min-width:150px; border-radius:8px;
  border:1px solid var(--border-light); background: rgba(255,255,255,.7); padding: 0 10px;
}
.dark .search { border-color: var(--border-dark); background: rgba(255,255,255,.08); color: var(--text-dark); }

.auth{ display:flex; flex-direction:row; gap:6px; }   /* << stack sorunu biter */
.btn{ height:32px; padding:0 10px; border-radius:8px; font-size:13px; border:1px solid transparent; cursor:pointer; }
.btn.ghost { background: transparent; border-color: var(--border-light); }
.dark .btn.ghost { border-color: var(--border-dark); color: var(--text-dark); }
.btn.solid { background: linear-gradient(180deg, var(--primary-light), var(--secondary-light)); color: white; }
.dark .btn.solid { background: linear-gradient(180deg, var(--primary-dark), var(--secondary-dark)); }

.lang{ 
  height:32px; border-radius:8px; border:1px solid var(--border-light); 
  background: rgba(255,255,255,.7); padding:0 8px;
}
.dark .lang { border-color: var(--border-dark); background: rgba(255,255,255,.08); color: var(--text-dark); }

/* -------- Ticker (single row, smooth) -------- */
.ticker{
  position:relative; overflow:hidden; border:1px solid var(--border-light);
  border-radius:12px; margin-top:10px; height:48px;
  background: linear-gradient(180deg, var(--surface-light), #fff);
  -webkit-mask-image: linear-gradient(90deg, transparent 0, #000 8px, #000 calc(100% - 8px), transparent 100%);
          mask-image: linear-gradient(90deg, transparent 0, #000 8px, #000 calc(100% - 8px), transparent 100%);
}
.dark .ticker {
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
}
.ticker.crypto {
  background: linear-gradient(180deg, rgba(0,122,255,.08), transparent),
              linear-gradient(180deg, var(--surface-light), #fff);
}
.dark .ticker.crypto {
  background: linear-gradient(180deg, rgba(88,101,242,.18), transparent),
              linear-gradient(180deg, var(--surface-dark), #2b2e33);
}

.ticker-track{
  display:inline-flex; align-items:center; gap:12px;
  padding:8px 24px; /* sola biraz daha iç boşluk → ilk öğe kırpılmıyor */
  white-space:nowrap;
  animation: ticker-marquee var(--duration, 30s) linear infinite;
  will-change: transform; transform: translate3d(0,0,0);
}
@keyframes ticker-marquee{
  from{ transform: translate3d(0,0,0); }
  to  { transform: translate3d(calc(-1 * var(--shift, 50%)),0,0); }
}

.ticker-item{ display:inline-flex; align-items:baseline; gap:8px; padding:6px 10px; border-radius:10px; border:1px solid var(--border-light); background:rgba(255,255,255,.6); }
.dark .ticker-item { background: rgba(255,255,255,.06); border-color: var(--border-dark); }

.ti-label{ font-weight:600; }
.ti-value{ font-variant-numeric: tabular-nums; } /* sayıların sallanmaması için */
.ti-change { font-variant-numeric: tabular-nums; }
.ti-change.up   { color: var(--success-light); }
.ti-change.down { color: var(--danger-light); }
.dark .ti-change.up   { color: var(--success-dark); }
.dark .ti-change.down { color: var(--danger-dark); }

/* mevcut ticker masaüstünde olduğu gibi çalışır */
.ticker-row{ display:flex; gap:8px; }

/* Mobil: yatay swipe + snap, animasyonsuz akıcı */
@media (max-width: 768px){
  .ticker-row{
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    padding-bottom: 2px;
  }
  .ticker-row::-webkit-scrollbar{ display:none; }
  .ticker-chip{ flex: 0 0 auto; scroll-snap-align: start; }
}

/* Hareketi azaltanlar için */
@media (prefers-reduced-motion: reduce){
  .ticker-animate{ animation: none !important; }
}

/* Accessibility: motion azaltma */
@media (prefers-reduced-motion: reduce) {
  .ticker-track { animation: none; }
}

/* ======= WIDGET BAR (single row, responsive) ======= */
/* Wrap: position for hint */
.widget-bar-wrap { position: relative; }

/* Compact widgets */
.widget-bar{ display:flex; gap:8px; padding:10px 0; overflow: hidden; }
.widget{ 
  flex: 1 1 0; min-width: 0; padding: 8px; border-radius: 12px;
  border:1px solid var(--border-light);
  background: linear-gradient(180deg, var(--surface-light), #fff);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.widget--tight .stat-val{ font-size: 18px; }     /* 20 → 18 */
.widget--tight .w-title{ font-size: 13px; }
.widget--tight .w-sub{ font-size: 11px; }
.dark .widget{
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}
.widget-h{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.w-title{ font-weight:600; opacity:.95; }
.w-sub{ font-size:12px; opacity:.7; margin-top:4px; }

/* Stat */
.stat{ display:flex; align-items:baseline; gap:10px; }
.stat-val{ font-size:22px; font-weight:700; }
.stat-change{ font-variant-numeric: tabular-nums; font-size:14px; }
.stat-change.up{ color: var(--success-light); }
.stat-change.down{ color: var(--danger-light); }
.dark .stat-change.up{ color: var(--success-dark); }
.dark .stat-change.down{ color: var(--danger-dark); }

/* Gauge */
.gauge{ display:flex; flex-direction:column; gap:6px; }
.gauge-track{
  position:relative; height: 8px; border-radius:999px; overflow:hidden;
  background: rgba(0,0,0,.08);
  border: 1px solid var(--border-light);
}
.dark .gauge-track{ background: rgba(255,255,255,.06); border-color: var(--border-dark); }
.gauge-fill{
  position:absolute; inset:0 auto 0 0;
  background: linear-gradient(90deg, var(--danger-light), var(--primary-light), var(--success-light));
  transform: translateZ(0);
}
.dark .gauge-fill{
  background: linear-gradient(90deg, var(--danger-dark), var(--primary-dark), var(--success-dark));
}
.gauge-val{ font-weight:700; }

/* Desktop tek satıra sığdırma */
@media (min-width: 1100px){
  .widget-bar{ overflow-x: visible; }
}

/* Kartların ortak halleri, varsa mevcut stillerinizle çakışmıyorsa bırakın */
.widgetbar .widget {
  border-radius: 12px;
  padding: 10px 12px;          /* daha kompakt */
  min-width: 0;
}
.widgetbar .w-title { font-size: 13px; line-height: 1.1; }
.widgetbar .w-value { font-size: 16px; font-weight: 600; }
.widgetbar .w-sub   { font-size: 12px; opacity: .8; }

/* Masaüstünde tek sıra */
@media (min-width: 1024px) {
  .widgetbar.single-row{
    display: flex;
    flex-wrap: nowrap;         /* tek satır */
    gap: 12px;
    align-items: stretch;
    padding-top: 6px;
    overflow-x: hidden;        /* isterseniz auto yapıp sağa kaydırılabilir yapın */
  }
  .widgetbar.single-row .widget{
    flex: 1 1 0;               /* tüm kartları satıra eşit yay */
    /* istersen: minimum genişlik bir tık koruma */
    min-width: 180px;
  }

  /* Satırın çok sıkıştığı dar masaüstlerinde kaydırılabilir yapmak için: */
  @media (max-width: 1200px){
    .widgetbar.single-row{ overflow-x: auto; }
  }
}

/* Widget Grid Layout - eski grid sistem (yedek) */
.widgets{
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
}
@media (max-width: 1024px){
  .widgets{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 768px){
  .widgets{ grid-template-columns: 1fr; }
  .widget-card{
    padding: 12px;
  }
  .widget-card .title{
    font-size: clamp(14px, 3.6vw, 16px);
  }
}

.spacer { height: 40vh; }

/* ---- Pricing ---- */
.pricing-hero{
  text-align:center; margin: 24px 0 10px;
}
.pricing-hero h1{ font-size: 34px; margin: 0 0 6px; }
.pricing-hero p {
  font-size: 16px;
  opacity: 0.8;
  max-width: 600px;
  margin: 0 auto;
}
.gold{
  background: linear-gradient(180deg,#ffefb0,#f6cf57 45%,#d5a51c 70%,#b88700);
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
}

.pricing-grid{
  display:grid; gap:14px; margin-top: 12px;
  grid-template-columns: repeat(3, minmax(0,1fr));
}
@media (max-width: 980px){
  .pricing-grid{ grid-template-columns: 1fr; }
}

.pricing-card{
  position:relative;
  border:1px solid var(--border-light);
  border-radius:16px; padding:16px;
  background: linear-gradient(180deg, var(--surface-light), #fff);
  box-shadow: 0 10px 26px rgba(0,0,0,.08);
}
.dark .pricing-card{
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}

.pricing-card.is-popular {
  border-color: rgba(212, 175, 55, 0.5);
  box-shadow: 0 12px 28px rgba(212, 175, 55, 0.15);
}
.dark .pricing-card.is-popular {
  box-shadow: 0 12px 28px rgba(212, 175, 55, 0.25);
}

.pricing-card .popular{
  position:absolute; top:12px; right:12px;
  font-size:12px; padding:4px 8px; border-radius:9999px;
  background: rgba(255,215,0,.15);
  border:1px solid rgba(145,116,15,.35);
  color: var(--text-light);
}
.dark .pricing-card .popular{
  color: var(--text-dark);
}

.pricing-head{ display:flex; align-items:end; justify-content:space-between; margin-bottom: 12px; }
.pricing-head h3{ margin:0; font-size:18px; }
.price{ display:flex; align-items:baseline; gap:4px; }
.price .amount{ font-size:28px; font-weight:800; }
.price .period{ opacity:.7; }

.features{ list-style:none; padding:0; margin:12px 0 16px; display:grid; gap:8px; }
.features li::before{ content:'✓'; margin-right:8px; opacity:.8; }

.pricing-cta{
  display:inline-block; text-align:center;
  width:100%; padding:10px 12px; border-radius:10px;
  border:1px solid var(--border-light);
  background: linear-gradient(180deg, var(--surface-light), #fff);
  text-decoration:none;
  color: var(--text-light);
  font-weight: 600;
}
.dark .pricing-cta{ 
  border-color: var(--border-dark); 
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33); 
  color: var(--text-dark);
}

.gold-btn{
  color:#2b1b00;
  border-color: rgba(145,116,15,.55);
  background: linear-gradient(180deg,#ffefb0,#f6cf57 45%,#d5a51c 70%,#b88700);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.6), 0 8px 18px rgba(184,135,0,.28);
}

/* Ekran daralınca biraz daha sıkılsın (gözle fark edilmeyecek kadar) */
@media (max-width: 1440px){
  .pro-cta{ padding: 6px 10px; font-size: 12.25px; }
  .pro-link{ padding: 5px 8px; }
}

@media (max-width: 900px) {
  .mainnav { display:none; } /* mobilde nav'ı sade tutalım; ileride hamburger ekleriz */
}

/* Mobil üst bar */
.topbar-mobile{
  position: sticky;
  top: 0;
  z-index: 60;
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px;
  background: var(--bg, #fff);
  backdrop-filter: blur(8px) saturate(1.1);
  border-bottom: 1px solid color-mix(in oklab, currentColor 12%, transparent);
}
.topbar-mobile .logo-sm{
  font-weight: 700; font-size: 18px; text-decoration: none;
}
.topbar-mobile .m-right{ display:flex; gap:10px; align-items:center; }
.icon-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:34px; height:34px; border-radius:10px;
  border: 1px solid color-mix(in oklab, currentColor 12%, transparent);
  background: color-mix(in oklab, currentColor 2%, transparent);
}

/* Mobil alt sekme çubuğu (app-like) */
.bottom-nav{
  position: sticky; bottom: 0; z-index: 59;
  display: grid; grid-template-columns: repeat(5, 1fr);
  gap: 8px; padding: 8px 10px;
  background: var(--bg, #fff);
  border-top: 1px solid color-mix(in oklab, currentColor 12%, transparent);
}
.bottom-nav .tab{
  display:flex; align-items:center; justify-content:center;
  height: 38px; border-radius: 10px;
  font-size: 13px; text-decoration:none;
  border: 1px solid color-mix(in oklab, currentColor 10%, transparent);
  background: color-mix(in oklab, currentColor 2%, transparent);
}
.bottom-nav .more{ font-weight: 600; }

/* Mobil sheet */
.sheet-backdrop{
  position: fixed; inset: 0; background: rgba(0,0,0,.3);
  z-index: 70; display:flex; justify-content:center; align-items:flex-end;
}
.sheet{
  width: 100%; max-width: 520px; max-height: 80vh;
  background: var(--bg, #fff); border-top-left-radius: 16px; border-top-right-radius: 16px;
  padding: 12px 14px; box-shadow: 0 -10px 40px rgba(0,0,0,.2);
  overflow: auto;
}
.sheet-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.sheet-body{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; padding-bottom:8px; }
.sheet-body a{
  padding:10px 12px; border-radius:10px; text-decoration:none;
  border:1px solid color-mix(in oklab, currentColor 10%, transparent);
  background: color-mix(in oklab, currentColor 2%, transparent);
  font-size:14px;
}

/* Sayfalı pager */
.sheet-pager{
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  display: flex;
  gap: 0;               /* sayfalar bitişik */
  -webkit-overflow-scrolling: touch;
}
.sheet-page{
  flex: 0 0 100%;
  scroll-snap-align: start;
  padding: 8px 2px 4px;
}

/* 2 sütun x 4 satır (8 link/sayfa) */
.sheet-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  padding: 6px 4px 12px;
}
.sheet-grid a{
  padding: 12px;
  border-radius: 12px;
  text-decoration: none;
  font-size: 14px;
  border: 1px solid color-mix(in oklab, currentColor 10%, transparent);
  background: color-mix(in oklab, currentColor 2%, transparent);
}

/* Dots göstergesi */
.sheet-dots{
  display: flex;
  gap: 8px;
  justify-content: center;
  padding: 6px 0 2px;
}
.sheet-dots .dot{
  width: 8px; height: 8px; border-radius: 50%;
  border: none;
  background: color-mix(in oklab, currentColor 30%, transparent);
  opacity: .5;
}
.sheet-dots .dot.active{
  width: 18px; height: 8px; border-radius: 999px;
  opacity: 1;
  background: currentColor;
}

/* Masaüstünde bu mobil elemanlar görünmez (zaten .mobile-only ile kapalı) */
@media (min-width: 769px){
  .topbar-mobile, .bottom-nav, .sheet-backdrop{ display:none; }
}

/* ===== BREAKING NEWS ===== */
.card {
  border: 1px solid var(--border-light);
  border-radius: 14px;
  background: linear-gradient(180deg, var(--surface-light), #fff);
  padding: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.dark .card {
  border-color: var(--border-dark);
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  box-shadow: 0 10px 28px rgba(0,0,0,.35);
}

.card.breaking {
  position: relative;
  border-color: rgba(0, 122, 255, .25);
  background: linear-gradient(180deg, rgba(0, 122, 255, .06), rgba(0, 122, 255, .02));
}
.dark .card.breaking {
  border-color: rgba(88, 101, 242, .35);
  background: linear-gradient(180deg, rgba(88, 101, 242, .12), rgba(88, 101, 242, .04));
}

.card.breaking.empty {
  background: var(--surface-light);
  border-color: var(--border-light);
  text-align: center;
  padding: 24px;
}
.dark .card.breaking.empty {
  background: var(--surface-dark);
  border-color: var(--border-dark);
}

.badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  background: var(--primary-light);
  color: white;
  margin-bottom: 8px;
}
.dark .badge {
  background: var(--primary-dark);
}

.card.breaking .title {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 8px;
  line-height: 1.3;
  color: var(--text-light);
}
.dark .card.breaking .title {
  color: var(--text-dark);
}

.card.breaking .summary {
  font-size: 14px;
  line-height: 1.5;
  opacity: 0.8;
  margin-bottom: 12px;
}

.card.breaking .meta {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  opacity: 0.65;
}

.card.breaking .link {
  margin-left: auto;
  color: var(--primary-light);
  text-decoration: none;
  font-weight: 600;
}
.card.breaking .link:hover {
  text-decoration: underline;
}
.dark .card.breaking .link {
  color: var(--primary-dark);
}

.muted {
  opacity: 0.5;
}

/* ===== NEWS GRID ===== */
.grid-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 16px;
  margin-top: 16px;
}

.grid-cards.empty {
  text-align: center;
  padding: 48px;
  opacity: 0.5;
  font-size: 14px;
}

.card.latest {
  background: linear-gradient(180deg, var(--surface-light), #fff);
  border-color: var(--border-light);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}
.dark .card.latest {
  background: linear-gradient(180deg, var(--surface-dark), #2b2e33);
  border-color: var(--border-dark);
}

.card.latest:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px rgba(0,0,0,.12);
}
.dark .card.latest:hover {
  box-shadow: 0 14px 36px rgba(0,0,0,.4);
}

.headline {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 8px;
  line-height: 1.3;
  color: var(--text-light);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}
.dark .headline {
  color: var(--text-dark);
}

.snippet {
  font-size: 13px;
  line-height: 1.5;
  opacity: 0.7;
  margin-bottom: 12px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.card.latest .meta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  opacity: 0.5;
  margin-top: auto;
}

@media (max-width: 640px) {
  .grid-cards {
    grid-template-columns: 1fr;
  }
}

/* ---- News Hub layout ---- */
.news-hub {
  display: grid;
  grid-template-columns: 220px 1fr 220px; /* kırmızı raylar + merkez */
  gap: 16px;
  margin-top: 12px;
}
.news-rail { background: #ff3b3015; border-radius: 14px; min-height: 520px; }
.news-rail.left { }
.news-rail.right { }

.news-center { display: grid; gap: 16px; }
.card { border-radius: 14px; padding: 14px 16px; background: var(--surface-2, #0f1115); box-shadow: var(--elev-1, 0 1px 2px rgba(0,0,0,.2)); }

.breaking { background: #00c2ff22; border: 1px solid #00c2ff44; }
.breaking .badge { font-size: 12px; font-weight: 600; padding: 4px 8px; border-radius: 999px; background: #00c2ff33; border: 1px solid #00c2ff55; display: inline-block; margin-bottom: 6px; }
.breaking .title { font-weight: 700; font-size: 18px; line-height: 1.3; }
.breaking .summary { opacity: .9; margin-top: 4px; }
.breaking .meta { display: flex; gap: 8px; align-items: center; opacity: .8; margin-top: 8px; }
.breaking .link { text-decoration: underline; }

.grid-cards { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; }
.grid-cards .card.latest { background: #1bb34a22; border: 1px solid #1bb34a44; min-height: 110px; }
.grid-cards .headline { font-weight: 600; line-clamp: 2; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.grid-cards .snippet { opacity: .85; margin-top: 4px; line-height: 1.3; }
.grid-cards .meta { opacity: .7; margin-top: 6px; font-size: 12px; display:flex; gap:8px; }

/* responsive */
@media (max-width: 1280px) {
  .news-hub { grid-template-columns: 16px 1fr 16px; } /* rayları incelt */
  .grid-cards { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 768px) {
  .grid-cards { grid-template-columns: 1fr; }
}

/* ===== LAYER STRUCTURE ===== */
.layer {
  margin-bottom: 24px;
}

.layer-widgets {
  /* Widget bar layer */
}

.layer-tickers {
  /* Ticker rows layer */
}

.ticker-stack {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.layer-news {
  /* News hub layer */
}

/* ===== Z-INDEX PROTECTION ===== */
/* Header her şeyin üstünde */
.site-header, .top-header, header {
  position: sticky;        /* sende sticky değilse relative de olur */
  top: 0;
  z-index: 1000;
}

/* Katman sarmalayıcıları */
.layer { position: relative; }
.layer-widgets { z-index: 40; }  /* widget kartları */
.layer-tickers { z-index: 30; }  /* iki kayan yazı */
.layer-news    { z-index: 20; }  /* mavi/yeşil haber alanı */

/* Ticker'ların kendi içinde de güvenli olsun */
.ticker-stack { position: relative; z-index: 1; }

/* Haber hub, overlay'lere takılmasın */
.news-hub { position: relative; z-index: 0; }

/* (Varsa) scroll-hint / tooltip / modal gibi şeyler */
.scroll-hint { position: fixed; z-index: 900; }
.modal, .dialog { position: fixed; z-index: 1100; }

/* ===== NEWS ARCHIVE PAGE ===== */
.news-archive h1 {
  font-size: 32px;
  font-weight: 700;
  margin-bottom: 24px;
  color: var(--text-light);
}
.dark .news-archive h1 {
  color: var(--text-dark);
}

.news-archive h2 {
  font-size: 20px;
  font-weight: 600;
  margin: 24px 0 16px;
  color: var(--text-light);
}
.dark .news-archive h2 {
  color: var(--text-dark);
}

.news-archive .list {
  display: flex;
  flex-direction: column;
  gap: 1px;
  background: var(--border-light);
  border-radius: 12px;
  overflow: hidden;
}
.dark .news-archive .list {
  background: var(--border-dark);
}

.news-archive .row {
  display: block;
  padding: 16px;
  background: var(--background-light);
  text-decoration: none;
  color: inherit;
  transition: background-color 0.15s ease;
}
.dark .news-archive .row {
  background: var(--background-dark);
}

.news-archive .row:hover {
  background: var(--surface-light);
}
.dark .news-archive .row:hover {
  background: var(--surface-dark);
}

.news-archive .row .t {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 6px;
  color: var(--text-light);
}
.dark .news-archive .row .t {
  color: var(--text-dark);
}

.news-archive .row .m {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  opacity: 0.6;
}

.news-archive .card.breaking {
  margin-bottom: 24px;
}